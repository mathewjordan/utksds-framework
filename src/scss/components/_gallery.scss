
.blocks-gallery-grid {
  @extend .row;
}
.blocks-gallery-grid,
.wp-block-gallery {
  padding: 0;
  list-style-type:none;
  .blocks-gallery-image, .blocks-gallery-item {
//    margin:0 16px 16px 0;
//    display:flex;
//    flex-grow:1;
//    flex-direction:column;
//    justify-content:center;
//    position:relative;
    @extend .col-12;
    margin-bottom: $grid-gutter-width;
    figure {
      margin:0;
      height:100%
    }
    img {
      display:block;
      max-width:100%;
      height:auto;
      width:100%;
    }
    figcaption {
      background:rgba(0, 0, 0, .3);
      bottom:0;
      color: $white;
      font-size: $font-size-sm;
      left: $grid-gutter-width * 0.5;
      max-height:100%;
      overflow:auto;
      padding:40px 10px 9px;
      position:absolute;
      right: $grid-gutter-width * 0.5;
      text-align:center;
      img {
        display:inline;
      }
      a, img {
        width: 100%;
      }
    }
  }
  &.columns-2 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-6;
  }
  &.columns-3 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-4;
  }
  &.columns-4 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-3;
  }
  &.columns-5 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-2;
//    &:nth-of-type(6), &:first-child {
//      @extend .offset-md-1;
//    }
  }

  &.columns-6 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-2;
  }
  &.columns-7 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-1;
//    &:nth-of-type(7), &:first-child{
  //    @extend .offset-md-3;
    //}
  }
  &.columns-8 .blocks-gallery-item {
    @extend .col-12;
    @extend .col-md-1;
//    &:nth-of-type(8), &:first-child {
//      @extend .offset-md-2;
//    }
  }
}

@supports ((position:-webkit-sticky) or (position:sticky)) {
  .blocks-gallery-grid .blocks-gallery-image figure,
  .blocks-gallery-grid .blocks-gallery-item figure,
  .wp-block-gallery .blocks-gallery-image figure,
  .wp-block-gallery .blocks-gallery-item figure {
    display:flex;
    align-items:flex-end;
    justify-content:flex-start
  }
}
@supports ((position:-webkit-sticky) or (position:sticky)) {
  .blocks-gallery-grid .blocks-gallery-image img,
  .blocks-gallery-grid .blocks-gallery-item img,
  .wp-block-gallery .blocks-gallery-image img,
  .wp-block-gallery .blocks-gallery-item img {
    width: auto;
  }
}
.blocks-gallery-grid .blocks-gallery-image figcaption img,
.blocks-gallery-grid .blocks-gallery-item figcaption img,
.wp-block-gallery .blocks-gallery-image figcaption img,
.wp-block-gallery .blocks-gallery-item figcaption img {
  display: inline;
}
@supports ((position:-webkit-sticky) or (position:sticky)) {
  .blocks-gallery-grid.is-cropped .blocks-gallery-image a,
  .blocks-gallery-grid.is-cropped .blocks-gallery-image img,
  .blocks-gallery-grid.is-cropped .blocks-gallery-item a,
  .blocks-gallery-grid.is-cropped .blocks-gallery-item img,
  .wp-block-gallery.is-cropped .blocks-gallery-image a,
  .wp-block-gallery.is-cropped .blocks-gallery-image img,
  .wp-block-gallery.is-cropped .blocks-gallery-item a,
  .wp-block-gallery.is-cropped .blocks-gallery-item img {
    height:100%;
    flex:1;
    object-fit:cover;
  }
}








.blocks-gallery-grid.columns-5 .blocks-gallery-image:nth-of-type(5n),
.blocks-gallery-grid.columns-5 .blocks-gallery-item:nth-of-type(5n),
.wp-block-gallery.columns-5 .blocks-gallery-image:nth-of-type(5n),
.wp-block-gallery.columns-5 .blocks-gallery-item:nth-of-type(5n),
.blocks-gallery-grid.columns-7 .blocks-gallery-image:nth-of-type(7n),
.blocks-gallery-grid.columns-7 .blocks-gallery-item:nth-of-type(7n),
.wp-block-gallery.columns-7 .blocks-gallery-image:nth-of-type(7n),
.wp-block-gallery.columns-7 .blocks-gallery-item:nth-of-type(7n),
.blocks-gallery-grid.columns-8 .blocks-gallery-image:nth-of-type(8n),
.blocks-gallery-grid.columns-8 .blocks-gallery-item:nth-of-type(8n),
.wp-block-gallery.columns-8 .blocks-gallery-image:nth-of-type(8n),
.wp-block-gallery.columns-8 .blocks-gallery-item:nth-of-type(8n) {
  margin-right:0
}

.blocks-gallery-grid.alignleft,
.blocks-gallery-grid.alignright,
.wp-block-gallery.alignleft,
.wp-block-gallery.alignright {
  max-width:290px;
  width:100%
}


.blocks-gallery-grid.aligncenter .blocks-gallery-item figure,
.wp-block-gallery.aligncenter .blocks-gallery-item figure {
  justify-content:center
}
